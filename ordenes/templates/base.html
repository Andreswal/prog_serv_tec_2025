
{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
Â  <meta charset="UTF-8">
Â  <title>{% block title %}ProgSerTec25{% endblock %}</title>
Â  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
Â  
Â  Â  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
Â  
Â  {% block head %}{% endblock %}
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
 
Â  <nav class="navbar navbar-expand-lg navbar-light bg-light">
Â  Â  <a class="navbar-brand" href="#">ProgSerTec25</a>
Â  </nav>
Â  <main class="container mt-4">
Â  Â  {% block content %}
Â  Â  {% endblock %}
Â  </main>
Â 
Â  Â  <div id="escritorio" style="position: relative; width: 100%; height: 100vh; background: #f0f0f0;">
Â  </div>
Â  
Â  Â  <div id="menu" style="position: fixed; top: 0; left: 0; background: #333; color: white; padding: 10px;">
Â  Â  Â  Â  <button onclick="abrirVentana('equipos', '/equipos/parcial/')">ğŸ“¦ Equipos en Taller</button>
Â  Â  <button onclick="abrirVentana('clientes', '/clientes/parcial/')">ğŸ‘¤ Clientes</button> 
Â  Â  Â  </div>
Â  
Â  Â  <script>
Â  Â  // FunciÃ³n principal para abrir y cargar contenido
Â  Â  function abrirVentana(id, url) {
Â  Â  Â  if (document.getElementById('ventana-' + id)) {
Â  Â  Â  Â  // Si ya estÃ¡ abierta, la traemos al frente
Â  Â  Â  Â  document.getElementById('ventana-' + id).style.zIndex = Date.now();
Â  Â  Â  Â  return;
Â  Â  Â  }
Â  Â  
Â  Â  Â  const ventana = document.createElement('div');
Â  Â  Â  ventana.id = 'ventana-' + id;
Â  Â  Â  ventana.className = 'ventana-flotante';
Â  Â  Â  ventana.style = `
Â  Â  Â  Â  position: absolute;
Â  Â  Â  Â  top: 60px;
Â  Â  Â  Â  left: 60px;
Â  Â  Â  Â  width: 800px;
Â  Â  Â  Â  height: 500px;
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  border: 2px solid #444;
Â  Â  Â  Â  box-shadow: 0 0 10px rgba(0,0,0,0.3);
Â  Â  Â  Â  z-index: ${Date.now()};
Â  Â  Â  Â  overflow: auto;
Â  Â  Â  `;
Â  Â  
Â  Â  Â  ventana.innerHTML = `
Â  Â  Â  Â  <div style="background: #222; color: white; padding: 5px; cursor: move;">
Â  Â  Â  Â  Â  <span>${id.toUpperCase()}</span>
Â  Â  Â  Â  Â  <button onclick="document.getElementById('ventana-${id}').remove()" style="float: right;">âŒ</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="contenido-ventana-${id}" style="padding: 10px;">Cargando...</div>
Â  Â  Â  `;
Â  Â  
Â  Â  Â  document.getElementById('escritorio').appendChild(ventana);
Â  Â  
Â  Â  Â  // 2. CARGA INICIAL CON JQUERY (.load())
Â  Â  Â  const selectorContenido = `#contenido-ventana-${id}`;
Â  Â  Â  $(selectorContenido).load(url, function(response, status, xhr) {
Â  Â  Â  Â  Â  if (status == "error") {
Â  Â  Â  Â  Â  Â  Â  // Esto ayuda a diagnosticar si la URL es incorrecta (Error 404)
Â  Â  Â  Â  Â  Â  Â  console.error(`ERROR ${xhr.status}: FallÃ³ la carga de ${url}`);
Â  Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  }
Â  </script>
Â  <script src="{% static 'js/ventanas.js' %}"></script>
Â  

Â  <footer class="text-center mt-5">
Â  Â  Â© 2025 ProgSerTec25
Â  </footer>
</body>
</html>